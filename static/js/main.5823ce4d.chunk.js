(this["webpackJsonpvideo-recording"]=this["webpackJsonpvideo-recording"]||[]).push([[0],{16:function(e,t,n){e.exports=n(41)},21:function(e,t,n){},22:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(11),c=n.n(r),i=(n(21),n(12)),s=n(13),d=n(15),l=n(14),u=(n(22),n(23),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).startRecording=function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(e){a.haveLoadedMetadata(e).then((function(){console.log(e);var t=new MediaRecorder(e,{audioBitsPerSecond:128e3,videoBitsPerSecond:25e5,mimeType:"video/webm"});a.setState({isRecording:!0,hasRecorded:!1,recordingObject:t,videoStream:e}),a.state.recordingObject.start()}))}))},a.stopRecording=function(){a.state.videoStream.getTracks().forEach((function(e){return e.stop()})),a.state.recordingObject.onstop=function(e){var t=URL.createObjectURL(new Blob(a.state.recordedChunks,{type:"video/webm"}));a.setState({blobURL:t}),console.log(a.state.blobURL),document.getElementById("recordedStream").src=t},a.state.recordingObject.ondataavailable=function(e){console.log(e.data);var t=[];t.push(e.data),a.setState({recordedChunks:t})},a.setState({isRecording:!1,hasRecorded:!0,isCameraOn:!1})},a.state={isCameraOn:!1,isRecording:!1,hasRecorded:!1,blobURL:"",recordingObject:{},recordedChunks:[],videoStream:{}},a}return Object(s.a)(n,[{key:"haveLoadedMetadata",value:function(e){this.setState({isCameraOn:!0});var t=document.getElementById("liveStream");return t.srcObject=e,new Promise((function(e){return t.onloadedmetadata=e}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},this.state.isCameraOn?o.a.createElement("video",{id:"liveStream",autoPlay:!0,muted:!0}):null,this.state.hasRecorded?o.a.createElement("video",{controls:!0,id:"recordedStream",autoPlay:!0}):null,this.state.isRecording?null:o.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.startRecording()}},"Start Recording"),this.state.isRecording?o.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.stopRecording()}},"Stop Recording"):null,this.state.hasRecorded?o.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.sendToAPI()}},"Send to API"):null)}}]),n}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.5823ce4d.chunk.js.map