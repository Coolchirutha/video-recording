(this["webpackJsonpvideo-recording"]=this["webpackJsonpvideo-recording"]||[]).push([[0],{16:function(e,t,a){e.exports=a(41)},21:function(e,t,a){},22:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),s=a.n(r),o=(a(21),a(12)),c=a(13),d=a(15),u=a(14),l=(a(22),a(23),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).startCamera=function(){navigator.mediaDevices.getUserMedia=navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(e){n.setState({isCameraOn:!0}),document.getElementById("previewStream").srcObject=e}))},n.startRecording=function(){navigator.mediaDevices.getUserMedia=navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(e){n.setState({stream:e}),n.haveLoadedMetadata(e).then((function(){var t=new MediaRecorder(e,{audioBitsPerSecond:128e3,videoBitsPerSecond:25e5,mimeType:"video/webm"});n.setState({recordingObject:t,videoStream:e}),n.state.recordingObject.start()}))}))},n.stopRecording=function(){n.state.videoStream.getTracks().forEach((function(e){return e.stop()})),n.state.recordingObject.onstop=function(e){var t=URL.createObjectURL(new Blob(n.state.recordedChunks,{type:"video/webm"}));n.setState({blobURL:t}),console.log(n.state.blobURL),document.getElementById("recordedStream").src=t},n.state.recordingObject.ondataavailable=function(e){console.log(e.data);var t=[];t.push(e.data),n.setState({recordedChunks:t})},n.setState({hasRecorded:!0,isRecording:!1,isCameraOn:!1})},n.state={isCameraOn:!1,isRecording:!1,hasRecorded:!1,blobURL:"",recordingObject:{},recordedChunks:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.async=!0,e.src="https://vjs.zencdn.net/5-unsafe/video.js",document.body.appendChild(e)}},{key:"haveLoadedMetadata",value:function(e){this.setState({isCameraOn:!0,isRecording:!0,hasRecorded:!1});var t=document.getElementById("liveStream");return t.srcObject=e,new Promise((function(e){return t.onloadedmetadata=e}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},!this.state.isCameraOn||this.state.isRecording||this.state.hasRecorded?null:i.a.createElement("div",{id:"instructions"},i.a.createElement("video",{id:"previewStream",className:"video-js vjs-default-skin",width:"640px",height:"267px",autoPlay:!0,muted:!0,"data-setup":'{ "aspectRatio":"640:267", "playbackRates": [1, 1.5, 2] }'})),this.state.isCameraOn&&this.state.isRecording&&!this.state.hasRecorded?i.a.createElement("div",{id:"instructions"},i.a.createElement("video",{id:"liveStream",className:"video-js vjs-default-skin",width:"640px",height:"360px",autoPlay:!0,muted:!0,"data-setup":'{ "aspectRatio":"640:267", "playbackRates": [1, 1.5, 2] }'})):null,this.state.isCameraOn||this.state.isRecording||!this.state.hasRecorded?null:i.a.createElement("div",{id:"instructions"},i.a.createElement("video",{id:"liveStream",className:"video-js vjs-default-skin",width:"640px",height:"360px",autoPlay:!0,"data-setup":'{ "aspectRatio":"640:267", "playbackRates": [1, 1.5, 2] }'})),this.state.isCameraOn?null:i.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.startCamera()}},"Start Camera"),this.state.isRecording?null:i.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.startRecording()}},"Start Recording"),this.state.isRecording?i.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.stopRecording()}},"Stop Recording"):null)}}]),a}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(l,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.50db510a.chunk.js.map