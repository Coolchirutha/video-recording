(this["webpackJsonpvideo-recording"]=this["webpackJsonpvideo-recording"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(2),i=n.n(r),c=(n(12),n(3)),d=n(4),s=n(6),l=n(5),u=(n(13),function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).startRecording=function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(e){o.haveLoadedMetadata(e).then((function(){console.log(e);var t=new MediaRecorder(e,{audioBitsPerSecond:128e3,videoBitsPerSecond:25e5,mimeType:"video/webm"});o.setState({isRecording:!0,hasRecorded:!1,recordingObject:t,videoStream:e}),o.state.recordingObject.start()}))}))},o.stopRecording=function(){o.state.videoStream.getTracks().forEach((function(e){return e.stop()})),o.state.recordingObject.onstop=function(e){var t=URL.createObjectURL(new Blob(o.state.recordedChunks,{type:"video/webm"}));o.setState({blobURL:t}),console.log(o.state.blobURL),document.getElementById("recordedStream").src=t,document.getElementById("download").href=t},o.state.recordingObject.ondataavailable=function(e){console.log(e.data);var t=[];t.push(e.data),o.setState({recordedChunks:t})},o.setState({isRecording:!1,hasRecorded:!0,isCameraOn:!1})},o.state={isCameraOn:!1,isRecording:!1,hasRecorded:!1,blobURL:"",recordingObject:{},recordedChunks:[],videoStream:{}},o}return Object(d.a)(n,[{key:"haveLoadedMetadata",value:function(e){this.setState({isCameraOn:!0});var t=document.getElementById("liveStream");return t.srcObject=e,new Promise((function(e){return t.onloadedmetadata=e}))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},this.state.isCameraOn?a.a.createElement("video",{id:"liveStream",autoPlay:!0,muted:!0}):null,this.state.hasRecorded?a.a.createElement("video",{id:"recordedStream",autoPlay:!0}):null,this.state.isRecording?null:a.a.createElement("button",{onClick:function(){return e.startRecording()}},"Start Recording"),this.state.isRecording?a.a.createElement("button",{onClick:function(){return e.stopRecording()}},"Stop Recording"):null,this.state.hasRecorded?a.a.createElement("a",{href:"#",id:"download"},"Download (Don't click yet)"):null)}}]),n}(a.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.c78f8c34.chunk.js.map